(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(e){if(e.ep)return;e.ep=!0;const l=o(e);fetch(e.href,l)}})();const s=window.location.hostname==="localhost"?"http://localhost:3000":"https://punto70.vercel.app/api";fetch(`${s}/articulos`).then(r=>r.json()).then(r=>{let t="";Object.entries(r).forEach(([o,n])=>{t+=`<section class="categoria"><h2>${o.charAt(0).toUpperCase()+o.slice(1)}</h2>`,t+=`<button class="btn btn-left" onclick="scrollLeft('${o}')">&#9664;</button>`,t+=`<div class="articulos" id="${o}">`,n.forEach(e=>{t+=`
              <div class="articulo" data-id="${e.id}">
                <h3>${e.nombre}</h3>
                <img src="${e.url}" alt="${e.nombre}">
                <p>Precio: $${e.precio}</p>
                <button class="delete-btn" onclick="deleteArticle('${o}', ${e.id})">Eliminar</button>
              </div>`}),t+="</div>",t+=`<button class="btn btn-right" onclick="scrollRight('${o}')">&#9654;</button>`,t+="</section>"}),document.querySelector("#categories").innerHTML=t});window.scrollLeft=r=>{document.getElementById(r).scrollBy({left:-250,behavior:"smooth"})};window.scrollRight=r=>{document.getElementById(r).scrollBy({left:250,behavior:"smooth"})};window.deleteArticle=(r,t)=>{console.log("Attempting to delete:",r,t),fetch(`http://localhost:3000/articulos/${r}/${t}`,{method:"DELETE"}).then(o=>{if(!o.ok)throw new Error("No se pudo eliminar el artículo");return o.json()}).then(o=>{console.log(o.message);const n=document.querySelector(`.articulo[data-id="${t}"]`);n&&n.remove()}).catch(o=>{console.error("Error eliminando el artículo:",o)})};
